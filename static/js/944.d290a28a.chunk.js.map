{"version":3,"file":"static/js/944.d290a28a.chunk.js","mappings":"8LAKMA,GAAaC,EAAAA,EAAAA,OAAK,kBAAM,gCAsD9B,UApDoB,WAEhB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SAC/B,GAAsCP,EAAAA,EAAAA,UAAQ,OAACM,QAAD,IAACA,EAAAA,EAAS,IAAxD,eAAOE,EAAP,KAAoBC,EAApB,KAqBA,OANAC,EAAAA,EAAAA,YAAU,WACDJ,IACLK,EAAAA,EAAAA,IAAUL,GAAOM,MAAK,SAAAX,GAAM,OAAIC,EAAUD,EAAOY,cACpD,CAACP,KAIE,iCACF,kBAAMQ,SAfO,SAAAC,GACbA,EAAEC,iBACFX,EAAgB,CAAEC,MAAOE,EAAYS,cAAcC,SAEnDH,EAAEI,cAAcC,MAAQ,IAWxB,WACE,kBACEC,SAtBW,SAAAN,GAChBN,EAAeM,EAAEI,cAAcC,QAsB1BA,MAAOZ,EACPc,KAAK,cACLC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,sBAEd,mBAAQH,KAAK,SAAb,UACE,2CAGF,SAAC,EAAAI,SAAD,CAAUC,UAAU,wCAApB,SACG3B,EAAO4B,OAAS,IAAK,SAAC/B,EAAD,CAAYG,OAAQA,W,sMChDrC6B,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,yGAAsCC,EAAtC,+BAA4C,GAA5C,SACyBC,MAAMD,GAD/B,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASC,IACd,OAAOT,EAAuB,2DAAD,OACgCU,EAAAA,IAIxD,SAAS7B,EAAUL,GACxB,OAAOwB,EAAuB,qDAAD,OAC0BU,EAAAA,EAD1B,kBAC2ClC,IAInE,SAASmC,EAAgBC,GAC9B,OAAOZ,EAAuB,sCAAD,OACWY,EADX,oBAC8BF,EAAAA,IAItD,SAASG,EAAQD,GACtB,OAAOZ,EAAuB,sCAAD,OACWY,EADX,4BACsCF,EAAAA,IAI9D,SAASI,EAAWF,GACzB,OAAOZ,EAAuB,sCAAD,OACWY,EADX,4BACsCF,EAAAA,EADtC,c,2EClCxB,IAAMK,EAAW,kCACXL,EAAU","sources":["pages/SearchMovie.jsx","services/fetchAPI.js","utils/constants.js"],"sourcesContent":["import { useState, useEffect, lazy, Suspense } from 'react'\nimport { useSearchParams } from \"react-router-dom\";\nimport { findMovie } from '../services/fetchAPI';\n\n\nconst MoviesList = lazy(() => import('../components/MoviesList'));\n\nconst SearchMovie = () => {\n\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(\"query\");\n    const [searchQuery, setSearchQuery] = useState(query ?? '');\n    \n\n    const onChange = e => {\n     setSearchQuery(e.currentTarget.value);\n     \n    };\n    \n  const onSubmit = e => {\n      e.preventDefault();\n      setSearchParams({ query: searchQuery.toLowerCase().trim() });\n   \n      e.currentTarget.value = '';\n  };\n\n    useEffect(() => {\n        if (!query) return;\n        findMovie(query).then(movies => setMovies(movies.results));     \n  }, [query]);\n\n    \n    return (\n        <>\n      <form onSubmit={onSubmit}>\n        <input\n          onChange={onChange}\n          value={searchQuery}\n          name=\"searchQuery\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Enter movie name\"\n        />\n        <button type=\"submit\">\n          <span>Search</span>\n        </button>\n        </form>\n        <Suspense fallback={<div>Loading...</div>}>\n          {movies.length > 0 && <MoviesList movies={movies} />}\n       </Suspense>\n\n      \n    </>\n\n    )\n}\n\nexport default SearchMovie;","import { API_KEY } from '../utils/constants';\n\nasync function fetchWithErrorHandling(url = '') {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not Found'));\n}\n\nexport function getTrandingMovie() {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  );\n}\n\nexport function findMovie(query) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n}\n\nexport function getMovieDetails(movieId) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`\n  );\n}\n\nexport function getCast(movieId) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n}\n\nexport function getReviews(movieId) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&page=1`\n  );\n}\n","export const IMG_PATH = 'https://image.tmdb.org/t/p/w500';\nexport const API_KEY = 'd82e9b87075796c7a6b6bfa80b102f66';\n"],"names":["MoviesList","lazy","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","searchQuery","setSearchQuery","useEffect","findMovie","then","results","onSubmit","e","preventDefault","toLowerCase","trim","currentTarget","value","onChange","name","type","autoComplete","autoFocus","placeholder","Suspense","fallback","length","fetchWithErrorHandling","url","fetch","response","ok","json","Promise","reject","Error","getTrandingMovie","API_KEY","getMovieDetails","movieId","getCast","getReviews","IMG_PATH"],"sourceRoot":""}